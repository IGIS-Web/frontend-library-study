# Tailwind CSS v4 ë¹Œë“œ í”Œë¡œìš° ì •í™•í•œ ìˆœì„œ

> "CSS íŒŒì‹± â†’ Rust ìŠ¤ìº” â†’ CSS ìƒì„±" ì „ì²´ íë¦„ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬

## ìš”ì•½

ë‹¹ì‹ ì˜ ì´í•´ê°€ **ê±°ì˜ ì •í™•**í•©ë‹ˆë‹¤! ì •í™•í•œ ìˆœì„œëŠ”:

1. âœ… **TypeScriptê°€ CSS íŒŒì¼ íŒŒì‹±** (`@import "tailwindcss"` ì²˜ë¦¬)
2. âœ… **Rustê°€ í”„ë¡œì íŠ¸ ì „ì²´ ìŠ¤ìº”** (í´ë˜ìŠ¤ ì¶”ì¶œ)
3. âœ… **TypeScriptê°€ CSS ìƒì„±** (í´ë˜ìŠ¤ â†’ CSS ê·œì¹™)
4. âœ… **Rustê°€ CSS ìµœì í™”** (Minify, Autoprefixer)

---

## ì „ì²´ íë¦„ (ì‹œê°„ ìˆœì„œëŒ€ë¡œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ìš©ì íŒŒì¼                                                  â”‚
â”‚                                                              â”‚
â”‚ src/index.css                    src/App.tsx                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚ @import "tailwindcss"            export function App() {    â”‚
â”‚                                    return (                 â”‚
â”‚ .my-custom {                         <div className=        â”‚
â”‚   color: red;                          "flex gap-4"         â”‚
â”‚ }                                      >                    â”‚
â”‚                                      </div>                 â”‚
â”‚                                    )                        â”‚
â”‚                                  }                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                    Vite ë¹Œë“œ ì‹œì‘
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: CSS íŒŒì¼ ê°ì§€ (JavaScript - Vite í”ŒëŸ¬ê·¸ì¸)          â”‚
â”‚                                                              â”‚
â”‚ GET /src/index.css                                          â”‚
â”‚   â†“                                                          â”‚
â”‚ @tailwindcss/vite í”ŒëŸ¬ê·¸ì¸ transform() í˜¸ì¶œ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: CSS íŒŒì¼ íŒŒì‹± (TypeScript)                          â”‚
â”‚                                                              â”‚
â”‚ ì…ë ¥ (index.css):                                           â”‚
â”‚   @import "tailwindcss";                                    â”‚
â”‚   .my-custom { color: red; }                                â”‚
â”‚                                                              â”‚
â”‚ TypeScript CSS Parser:                                      â”‚
â”‚   CSS.parse(content) // ë¬¸ìì—´ â†’ AST                        â”‚
â”‚                                                              â”‚
â”‚ AST ê²°ê³¼:                                                   â”‚
â”‚   [                                                          â”‚
â”‚     { kind: 'at-rule', name: '@import',                     â”‚
â”‚       params: '"tailwindcss"' },                            â”‚
â”‚     { kind: 'rule', selector: '.my-custom',                 â”‚
â”‚       nodes: [{ property: 'color', value: 'red' }] }        â”‚
â”‚   ]                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: @import "tailwindcss" ì²˜ë¦¬ (TypeScript)             â”‚
â”‚                                                              â”‚
â”‚ @import "tailwindcss" ë°œê²¬!                                 â”‚
â”‚   â†“                                                          â”‚
â”‚ node_modules/tailwindcss/index.css ì½ê¸°                     â”‚
â”‚   â†“                                                          â”‚
â”‚ ë‚´ìš©:                                                        â”‚
â”‚   @theme {                                                  â”‚
â”‚     --color-blue-500: #3b82f6;                              â”‚
â”‚     --spacing-4: 1rem;                                      â”‚
â”‚   }                                                          â”‚
â”‚   @tailwind utilities;                                      â”‚
â”‚                                                              â”‚
â”‚ ASTì— ì¸ë¼ì¸:                                               â”‚
â”‚   [                                                          â”‚
â”‚     { kind: 'at-rule', name: '@theme', ... },               â”‚
â”‚     { kind: 'at-rule', name: '@tailwind',                   â”‚
â”‚       params: 'utilities' },                                â”‚
â”‚     { kind: 'rule', selector: '.my-custom', ... }           â”‚
â”‚   ]                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: Tailwind ì „ìš© at-rule ì²˜ë¦¬ (TypeScript)            â”‚
â”‚                                                              â”‚
â”‚ @theme ìˆ˜ì§‘:                                                â”‚
â”‚   theme.set('--color-blue-500', '#3b82f6')                  â”‚
â”‚   theme.set('--spacing-4', '1rem')                          â”‚
â”‚                                                              â”‚
â”‚ @tailwind utilities ìœ„ì¹˜ ì €ì¥:                              â”‚
â”‚   utilitiesNode = { kind: 'at-rule', ... }                  â”‚
â”‚   (ë‚˜ì¤‘ì— ì—¬ê¸°ì— ìƒì„±ëœ CSS ì‚½ì…)                           â”‚
â”‚                                                              â”‚
â”‚ Design System êµ¬ì¶•:                                         â”‚
â”‚   designSystem.utilities.set('flex', ...)                   â”‚
â”‚   designSystem.utilities.set('gap', ...)                    â”‚
â”‚   designSystem.utilities.set('bg', ...)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: Compiler ê°ì²´ ìƒì„± ì™„ë£Œ (TypeScript)                â”‚
â”‚                                                              â”‚
â”‚ compiler = {                                                 â”‚
â”‚   sources: [{ base: '/project', pattern: '**/*' }],         â”‚
â”‚   theme: { ... },                                            â”‚
â”‚   designSystem: { ... },                                     â”‚
â”‚   build(candidates) { /* CSS ìƒì„± í•¨ìˆ˜ */ }                 â”‚
â”‚ }                                                            â”‚
â”‚                                                              â”‚
â”‚ âœ… CSS íŒŒì‹± ì™„ë£Œ! (í•˜ì§€ë§Œ ì•„ì§ CSS ìƒì„± ì•ˆ í•¨)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: Rust Scanner ìƒì„± (JavaScript â†’ Rust)              â”‚
â”‚                                                              â”‚
â”‚ JavaScript:                                                  â”‚
â”‚   scanner = new Scanner({                                   â”‚
â”‚     sources: [{ base: '/project', pattern: '**/*' }]        â”‚
â”‚   })                                                         â”‚
â”‚                                                              â”‚
â”‚ Rust:                                                        â”‚
â”‚   Scanner {                                                  â”‚
â”‚     walker: WalkBuilder::new("/project"),                   â”‚
â”‚     candidates: HashSet::new(),                             â”‚
â”‚     files: Vec::new()                                        â”‚
â”‚   }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 7: í”„ë¡œì íŠ¸ ì „ì²´ ìŠ¤ìº” (Rust)                           â”‚
â”‚                                                              â”‚
â”‚ scanner.scan()                                               â”‚
â”‚   â†“                                                          â”‚
â”‚ 1. íŒŒì¼ ì‹œìŠ¤í…œ íƒìƒ‰:                                        â”‚
â”‚    /project/src/App.tsx       âœ“                             â”‚
â”‚    /project/src/Button.tsx    âœ“                             â”‚
â”‚    /project/node_modules/...  âœ— (.gitignore)                â”‚
â”‚                                                              â”‚
â”‚ 2. íŒŒì¼ ì½ê¸° (ë³‘ë ¬):                                        â”‚
â”‚    Thread 1: Read App.tsx                                   â”‚
â”‚    Thread 2: Read Button.tsx                                â”‚
â”‚                                                              â”‚
â”‚ 3. className ì¶”ì¶œ (ìƒíƒœ ë¨¸ì‹ ):                              â”‚
â”‚    App.tsx:                                                 â”‚
â”‚      className="flex gap-4"                                 â”‚
â”‚      â†’ ["flex", "gap-4"]                                    â”‚
â”‚                                                              â”‚
â”‚    Button.tsx:                                              â”‚
â”‚      className="px-4 py-2 bg-blue-500"                      â”‚
â”‚      â†’ ["px-4", "py-2", "bg-blue-500"]                      â”‚
â”‚                                                              â”‚
â”‚ 4. ì¤‘ë³µ ì œê±° ë° ì •ë ¬:                                       â”‚
â”‚    â†’ ["bg-blue-500", "flex", "gap-4", "px-4", "py-2"]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 8: í›„ë³´ í´ë˜ìŠ¤ ë°˜í™˜ (Rust â†’ JavaScript)                â”‚
â”‚                                                              â”‚
â”‚ Rust:                                                        â”‚
â”‚   Vec<String>: ["bg-blue-500", "flex", "gap-4", ...]        â”‚
â”‚                                                              â”‚
â”‚ JavaScript:                                                  â”‚
â”‚   candidates: string[] = scanner.scan()                     â”‚
â”‚   // ["bg-blue-500", "flex", "gap-4", "px-4", "py-2"]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 9: CSS ìƒì„± (TypeScript)                               â”‚
â”‚                                                              â”‚
â”‚ compiler.build(candidates)                                   â”‚
â”‚   â†“                                                          â”‚
â”‚ ê° í›„ë³´ë¥¼ íŒŒì‹±:                                             â”‚
â”‚   "flex"                                                     â”‚
â”‚   â†’ { kind: 'static', root: 'flex' }                        â”‚
â”‚   â†’ designSystem.compileAstNodes(...)                       â”‚
â”‚   â†’ { kind: 'rule', selector: '.flex',                      â”‚
â”‚       nodes: [{ property: 'display', value: 'flex' }] }     â”‚
â”‚                                                              â”‚
â”‚   "bg-blue-500"                                             â”‚
â”‚   â†’ { kind: 'functional', root: 'bg', value: 'blue-500' }   â”‚
â”‚   â†’ theme.resolve('colors.blue.500') â†’ '#3b82f6'            â”‚
â”‚   â†’ { kind: 'rule', selector: '.bg-blue-500',               â”‚
â”‚       nodes: [{ property: 'background-color',               â”‚
â”‚                 value: 'rgb(59 130 246)' }] }               â”‚
â”‚                                                              â”‚
â”‚ AST ì—…ë°ì´íŠ¸:                                               â”‚
â”‚   @tailwind utilities ìœ„ì¹˜ì— ìƒì„±ëœ ê·œì¹™ ì‚½ì…!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 10: AST â†’ CSS ë¬¸ìì—´ ë³€í™˜ (TypeScript)                 â”‚
â”‚                                                              â”‚
â”‚ AST:                                                         â”‚
â”‚   [                                                          â”‚
â”‚     { kind: 'at-rule', name: '@theme', ... },               â”‚
â”‚     { kind: 'rule', selector: '.flex', ... },               â”‚
â”‚     { kind: 'rule', selector: '.gap-4', ... },              â”‚
â”‚     { kind: 'rule', selector: '.bg-blue-500', ... },        â”‚
â”‚     { kind: 'rule', selector: '.my-custom', ... }           â”‚
â”‚   ]                                                          â”‚
â”‚                                                              â”‚
â”‚ toCss(AST):                                                  â”‚
â”‚   :root {                                                    â”‚
â”‚     --color-blue-500: #3b82f6;                              â”‚
â”‚     --spacing-4: 1rem;                                      â”‚
â”‚   }                                                          â”‚
â”‚                                                              â”‚
â”‚   .flex { display: flex; }                                  â”‚
â”‚   .gap-4 { gap: 1rem; }                                     â”‚
â”‚   .bg-blue-500 { background-color: rgb(59 130 246); }       â”‚
â”‚                                                              â”‚
â”‚   .my-custom { color: red; }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 11: CSS ìµœì í™” (Rust - LightningCSS)                  â”‚
â”‚                                                              â”‚
â”‚ JavaScript:                                                  â”‚
â”‚   optimize(css, { minify: true })                           â”‚
â”‚                                                              â”‚
â”‚ Rust (LightningCSS):                                         â”‚
â”‚   - CSS Nesting ë³€í™˜                                        â”‚
â”‚   - Vendor prefix ì¶”ê°€ (-webkit-, -moz-)                    â”‚
â”‚   - Minify (ê³µë°± ì œê±°)                                      â”‚
â”‚                                                              â”‚
â”‚ ê²°ê³¼:                                                        â”‚
â”‚   :root{--color-blue-500:#3b82f6;--spacing-4:1rem}          â”‚
â”‚   .flex{display:flex}                                        â”‚
â”‚   .gap-4{gap:1rem}                                           â”‚
â”‚   .bg-blue-500{background-color:rgb(59 130 246)}            â”‚
â”‚   .my-custom{color:red}                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 12: ë¸Œë¼ìš°ì €ë¡œ ì „ì†¡ (Vite)                             â”‚
â”‚                                                              â”‚
â”‚ HTTP Response:                                               â”‚
â”‚   Content-Type: text/css                                    â”‚
â”‚                                                              â”‚
â”‚   :root{--color-blue-500:#3b82f6}                           â”‚
â”‚   .flex{display:flex}                                        â”‚
â”‚   .gap-4{gap:1rem}                                           â”‚
â”‚   .bg-blue-500{background-color:rgb(59 130 246)}            â”‚
â”‚   .my-custom{color:red}                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                    ë¸Œë¼ìš°ì € ë Œë”ë§ ì™„ë£Œ! ğŸ‰
```

---

## í•µì‹¬ í¬ì¸íŠ¸ ì •ë¦¬

### 1. CSS íŒŒì‹±ì´ ë¨¼ì € (TypeScript)

**ì´ìœ :**
- `@import "tailwindcss"` í•´ì„ í•„ìš”
- `@theme` ìˆ˜ì§‘ í•„ìš”
- `@tailwind utilities` ìœ„ì¹˜ íŒŒì•… í•„ìš”
- Design System êµ¬ì¶• í•„ìš”

**ê²°ê³¼:**
- Theme ë³€ìˆ˜ë“¤ (--color-blue-500, etc.)
- ìœ í‹¸ë¦¬í‹° ì •ì˜ (flex, gap, bg, etc.)
- CSS ìƒì„± ì¤€ë¹„ ì™„ë£Œ

### 2. Rust ìŠ¤ìº”ì´ ì¤‘ê°„ (Rust)

**ì…ë ¥:**
- `sources: [{ base: '/project', pattern: '**/*' }]`

**ì²˜ë¦¬:**
1. íŒŒì¼ ì‹œìŠ¤í…œ íƒìƒ‰ (WalkDir)
2. íŒŒì¼ ì½ê¸° (ë³‘ë ¬)
3. className ì¶”ì¶œ (ìƒíƒœ ë¨¸ì‹ )

**ì¶œë ¥:**
- `["bg-blue-500", "flex", "gap-4", "px-4", "py-2"]`

### 3. CSS ìƒì„±ì´ ë§ˆì§€ë§‰ (TypeScript)

**ì…ë ¥:**
- í›„ë³´ í´ë˜ìŠ¤: `["flex", "bg-blue-500", ...]`
- Design System (Step 1ì—ì„œ ì¤€ë¹„)

**ì²˜ë¦¬:**
1. ê° í›„ë³´ íŒŒì‹± (`flex` â†’ `{ kind: 'static', root: 'flex' }`)
2. CSS ê·œì¹™ ìƒì„± (`{ selector: '.flex', ... }`)
3. AST ì—…ë°ì´íŠ¸ (`@tailwind utilities` ìœ„ì¹˜ì— ì‚½ì…)
4. AST â†’ CSS ë¬¸ìì—´

**ì¶œë ¥:**
- ì™„ì„±ëœ CSS ë¬¸ìì—´

### 4. CSS ìµœì í™”ê°€ ì§„ì§œ ë§ˆì§€ë§‰ (Rust)

**ì…ë ¥:**
- ìƒì„±ëœ CSS (ì½ê¸° ì‰¬ìš´ í˜•ì‹)

**ì²˜ë¦¬:**
- Minify
- Autoprefixer
- Nesting ë³€í™˜

**ì¶œë ¥:**
- ìµœì í™”ëœ CSS (ì••ì¶•ëœ í˜•ì‹)

---

## ì™œ ì´ ìˆœì„œì¸ê°€?

### 1. CSS íŒŒì‹±ì´ ë¨¼ì €ì—¬ì•¼ í•˜ëŠ” ì´ìœ 

```typescript
// âŒ ìˆœì„œë¥¼ ë°”ê¾¸ë©´ ì•ˆ ë˜ëŠ” ì´ìœ 

// Rust ìŠ¤ìº”ë¶€í„° í•˜ë©´?
let candidates = scanner.scan()  // ["flex", "bg-blue-500"]

// í•˜ì§€ë§Œ...
// - theme ë³€ìˆ˜ê°€ ì—†ìŒ! (--color-blue-500 ëª¨ë¦„)
// - ìœ í‹¸ë¦¬í‹° ì •ì˜ê°€ ì—†ìŒ! (flexê°€ ë­”ì§€ ëª¨ë¦„)
// - CSS ìƒì„± ë¶ˆê°€ëŠ¥!

// âœ… ì˜¬ë°”ë¥¸ ìˆœì„œ
// 1. CSS íŒŒì‹± â†’ theme, utilities ì¤€ë¹„
// 2. Rust ìŠ¤ìº” â†’ í›„ë³´ í´ë˜ìŠ¤ ì¶”ì¶œ
// 3. CSS ìƒì„± â†’ theme + utilities + í›„ë³´ = CSS
```

### 2. Rust ìŠ¤ìº”ì´ ì¤‘ê°„ì´ì–´ì•¼ í•˜ëŠ” ì´ìœ 

```typescript
// âŒ CSS ìƒì„± í›„ì— ìŠ¤ìº”í•˜ë©´?

// 1. CSS íŒŒì‹±
let compiler = compile(css)

// 2. CSS ìƒì„± (í›„ë³´ ì—†ì´?)
compiler.build([])  // ë¹ˆ ë°°ì—´! ì•„ë¬´ê²ƒë„ ìƒì„± ì•ˆ ë¨

// 3. Rust ìŠ¤ìº” (ë„ˆë¬´ ëŠ¦ìŒ)
let candidates = scanner.scan()  // ì´ë¯¸ CSS ìƒì„± ëë‚¨!

// âœ… ì˜¬ë°”ë¥¸ ìˆœì„œ
// 1. CSS íŒŒì‹± â†’ ì¤€ë¹„
// 2. Rust ìŠ¤ìº” â†’ í›„ë³´ ìˆ˜ì§‘
// 3. CSS ìƒì„± â†’ í›„ë³´ë¥¼ CSSë¡œ ë³€í™˜
```

---

## ê°„ë‹¨ ìš”ì•½

### ë‹¹ì‹ ì˜ ì´í•´ (ê±°ì˜ ë§ìŒ!)

> CSS íŒŒì¼ë“¤ì„ tailwind íŒŒì‹± í˜•ì‹ìœ¼ë¡œ ë³€ê²½ â†’ Rustë¡œ í´ë˜ìŠ¤ ê°ì§€/ì¶”ì¶œ â†’ ë‹¤ì‹œ JSê°€ CSSë¡œ ë³€ê²½

### ë” ì •í™•í•œ í‘œí˜„

```
1. TypeScript: CSS íŒŒì‹±
   "@import tailwindcss" â†’ theme ë³€ìˆ˜ + ìœ í‹¸ë¦¬í‹° ì •ì˜

2. Rust: í”„ë¡œì íŠ¸ ìŠ¤ìº”
   ëª¨ë“  íŒŒì¼ â†’ className ì¶”ì¶œ â†’ ["flex", "bg-blue-500", ...]

3. TypeScript: CSS ìƒì„±
   í›„ë³´ + theme + ìœ í‹¸ë¦¬í‹° â†’ CSS ê·œì¹™

4. Rust: CSS ìµœì í™”
   CSS â†’ Minify + Autoprefixer â†’ ìµœì¢… CSS
```

### ë¹„ìœ ë¡œ ì„¤ëª…

```
ì‹ë‹¹ì„ ìš´ì˜í•œë‹¤ê³  ìƒê°í•˜ë©´:

1. TypeScript (CSS íŒŒì‹±):
   - ë ˆì‹œí”¼ ì±… ì½ê¸° (@import "tailwindcss")
   - ì¬ë£Œ ì¤€ë¹„ (theme ë³€ìˆ˜)
   - ì¡°ë¦¬ ë„êµ¬ ì¤€ë¹„ (ìœ í‹¸ë¦¬í‹° ì •ì˜)

2. Rust (ìŠ¤ìº”):
   - ì†ë‹˜ ì£¼ë¬¸ ë°›ê¸° (íŒŒì¼ ìŠ¤ìº”)
   - ì£¼ë¬¸ì„œ ì •ë¦¬ (className ì¶”ì¶œ)
   - ["í”¼ì", "íŒŒìŠ¤íƒ€", "ìƒëŸ¬ë“œ"]

3. TypeScript (CSS ìƒì„±):
   - ì£¼ë¬¸ëŒ€ë¡œ ìš”ë¦¬ (í›„ë³´ â†’ CSS ë³€í™˜)
   - ì¬ë£Œ + ë ˆì‹œí”¼ â†’ ì™„ì„±ëœ ìš”ë¦¬

4. Rust (ìµœì í™”):
   - í”Œë ˆì´íŒ… (Minify)
   - ì¥ì‹ ì¶”ê°€ (Autoprefixer)
   - ì„œë¹™!
```

---

## ì‹¤ì œ ì½”ë“œë¡œ ë³´ëŠ” ìˆœì„œ

```typescript
// packages/@tailwindcss-vite/src/index.ts

async transform(src, id) {
  // Step 1-4: CSS íŒŒì‹± (TypeScript)
  this.compiler = await compile(src, {
    from: id,
    // @import ì²˜ë¦¬, @theme ìˆ˜ì§‘, Design System êµ¬ì¶•
  })

  // Step 5-8: Rust ìŠ¤ìº”
  this.scanner = new Scanner({ sources })
  let candidates = this.scanner.scan()

  // Step 9-10: CSS ìƒì„± (TypeScript)
  let css = this.compiler.build(candidates)

  // Step 11: CSS ìµœì í™” (Rust)
  let optimized = optimize(css, { minify: true })

  return { code: optimized }
}
```

ì™„ë²½í•˜ê²Œ ì´í•´í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ¯