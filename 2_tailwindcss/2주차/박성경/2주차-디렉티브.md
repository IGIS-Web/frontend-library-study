## Tailwind ë””ë ‰í‹°ë¸Œ
ë””ë ‰í‹°ë¸ŒëŠ” @ ê¸°í˜¸ë¡œ ì‹œì‘í•˜ëŠ” íŠ¹ë³„í•œ CSS at-ruleë“¤ë¡œ, Tailwindì˜ ë™ì‘ì„ ì œì–´í•©ë‹ˆë‹¤.

### `@theme` - Tailwind í…Œë§ˆ ë³€ìˆ˜ ì •ì˜.
- ë³´í†µ ì „ì—­ ìŠ¤íƒ€ì¼ íŒŒì¼ì¸ `globals.css`ì— ì •ì˜í•¨
- CSS Custom Properties ê¸°ë°˜ í…Œë§ˆ í™•ì¥
- CSS ë³€ìˆ˜ë¥¼ í…Œë§ˆ ì‹œìŠ¤í…œì— ì¶”ê°€
- ê¸°ì¡´ í…Œë§ˆ ê°’ ì¬ì •ì˜ ê°€ëŠ¥
- ì»¤ìŠ¤í…€ í…Œë§ˆ(ìƒ‰, spacing ë“±) í† í° ìƒì„±

```css
@theme {
  --color-primary: #6366f1;
  --spacing-xxl: 64px;
}
```
bg-primary, p-xxl ì´ëŸ° ì‹ìœ¼ë¡œ ì“°ê²Œ í•  ìˆ˜ ìˆìŒ

### 2. `@utility` - ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ìƒì„±
- ë³´í†µ ì „ì—­ ìŠ¤íƒ€ì¼ íŒŒì¼ì¸ `globals.css`ì— ì •ì˜í•¨
- Global CSSë¡œ utility ì„ì§€ ë§ê³  ì´ëŸ° ë°ì„œ ë§Œë“¤ë¼ëŠ” ì·¨ì§€
- í´ë˜ìŠ¤ëª…ì— `.` ìœ ë¬´ë¡œ ìë™/ìˆ˜ë™ í´ë˜ìŠ¤ëª… ê²°ì •
```css
@utility text-shadow {
  text-shadow: 2px 2px rgba(0,0,0,.15);
}

@utility .card {
  @apply px-4 py-2 rounded text-white bg-primary;
}
```
- ê·¸ëŸ¼ ê·¸ëƒ¥ CSSì— í´ë˜ìŠ¤ëª… ë“±ë¡í•˜ëŠ”ê±°ë‘ ë­ê°€ ë‹¤ë¦„?
    - `hover:text-shadow` ì´ëŸ° ì‹ìœ¼ë¡œ variant(hover:, dark:, focus: ë“±) ì¡°í•© ê°€ëŠ¥
    - `.card`ëŠ” ìˆ˜ë™ í´ë˜ìŠ¤ë¼ ì¼ë°˜ CSS í´ë˜ìŠ¤ì²˜ëŸ¼ ì‘ë™. `hover:card` ë¶ˆê°€
    - @themeì™€ @apply ì“¸ ìˆ˜ ìˆê³ , Tailwind ìµœì í™” ì ìš©ë˜ë©°, intelliSense(ìë™ì™„ì„±) ì§€ì›

### 3. `@variant` - ì»¤ìŠ¤í…€ ë³€í˜•ì ìƒì„±
- variantë¥¼ ì§ì ‘ ë§Œë“¤ ìˆ˜ ìˆìŒ
- ë³´í†µ variant ì •ì˜ìš© ì „ìš© íŒŒì¼ `variants.css` ë§Œë“¤ì–´ì„œ ê´€ë¦¬
- `hocus:bg-blue-500`, `supports-grid:bg-red-500` ê°™ì€ ì»¤ìŠ¤í…€ ë³€í˜•ì ìƒì„±
- ë³µì¡í•œ ì„ íƒì ì¡°í•© ë‹¨ìˆœí™”
```css
@variant hocus (&:hover, &:focus);

/* gridë¥¼ ì§€ì›í•  ë•Œë§Œ ì ìš©ë˜ëŠ” í´ë˜ìŠ¤ */
@variant supports-grid (supports(display: grid));

/* .dark í´ë˜ìŠ¤ê°€ ë¶™ì–´ ìˆê±°ë‚˜, ê·¸ ì•ˆì˜ ìì‹ ìš”ì†Œì¼ ë•Œë§Œ ì ìš© */
@variant dark (&:where(.dark, .dark *));
```

### 4. `@source` - ìŠ¤ìº” ê²½ë¡œ ì„¤ì •
- Tailwindê°€ í´ë˜ìŠ¤ëª…ì„ ì°¾ì„ íŒŒì¼ ê²½ë¡œ ì§€ì •
- ë³´í†µ `globals.css` ë§¨ ìœ„ìª½ì—ì„œ ì‚¬ìš©
- ì—¬ëŸ¬ ê²½ë¡œ íŒ¨í„´ ì§€ì›
- ë™ì  í›„ë³´ì ìˆ˜ì§‘ì˜ ê¸°ë°˜
```css
@source "src/**/*.{html,js,ts,jsx,tsx}";
@source "components/**/*.vue";
```

### 5. `@tailwind utilities` - ìœ í‹¸ë¦¬í‹° ì‚½ì… ìœ„ì¹˜
- ìƒì„±ëœ ëª¨ë“  ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ê°€ ì´ ìœ„ì¹˜ì— ì‚½ì…
- ë³´í†µ `globals.css` ì—ì„œ ì‚¬ìš©
- í•œ ë²ˆë§Œ ì‚¬ìš© ê°€ëŠ¥

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

```css
/* ë¸Œë¼ìš°ì €ê°€ ê¸°ë³¸ CSS ìŠ¤íƒ€ì¼ */
@import 'tailwindcss/base';

/* ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸. 4.xë¶€í„° ì˜ ì•ˆì”€ */
@tailwind components;
.btn {
  @apply bg-blue-500 text-white px-4 py-2 rounded;
}

/* @themeëŠ” ì—¬ê¸°(utilities ìœ„)ì— ìœ„ì¹˜í•´ì•¼ í•¨ */

/* ì´ íŒŒì¼ì— ëª¨ë“  ìœ í‹¸ë¦¬í‹°ê°€ ì‚½ì…ë¨. */
@tailwind utilities;
```

## ğŸ’¡ ë””ë ‰í‹°ë¸Œì˜ íŠ¹ì§•

### âœ… í•œ ë²ˆë§Œ ì²˜ë¦¬ë¨
- ë””ë ‰í‹°ë¸ŒëŠ” `parseCss()` í•¨ìˆ˜ì—ì„œ **ìµœì´ˆ 1íšŒë§Œ** ì²˜ë¦¬
- ì„¤ì •ê³¼ ê·œì¹™ì„ ì •ì˜í•˜ëŠ” ì—­í• 
- ì´í›„ `build()` í•¨ìˆ˜ëŠ” ì´ ì„¤ì •ì„ ë°”íƒ•ìœ¼ë¡œ CSS ìƒì„±

### âœ… ìˆœì„œ ì¤‘ìš”
Tailwind ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” CSS
@source  â†’  @theme  â†’  @variant  â†’  @utility  â†’  @tailwind (base/components/utilities)
| ë””ë ‰í‹°ë¸Œ                                          | ì—­í•                         | ìˆœì„œ ì¤‘ìš”ë„                          | ì´ìœ                                |
| --------------------------------------------- | ------------------------- | ------------------------------- | -------------------------------- |
| `@source`                                     | ì™¸ë¶€ í…Œë§ˆ/í† í° import           | âœ… **ë§¨ ìœ„ìª½**                      | ë¶ˆëŸ¬ì˜¨ í† í°ì„ ë‚˜ì¤‘ì— ì“¸ ê±°ë‹ˆê¹Œ ë¨¼ì € ì½ì–´ì•¼ í•¨       |
| `@theme`                                      | ë””ìì¸ í† í° ì •ì˜ (ìƒ‰ìƒ, spacing ë“±) | âœ… **`@tailwind utilities`ë³´ë‹¤ ìœ„** | ìœ í‹¸ë¦¬í‹° ìƒì„± ì „ì— í† í° ë“±ë¡í•´ì•¼ í•¨             |
| `@variant`                                    | ì»¤ìŠ¤í…€ variant ì •ì˜            | âš ï¸ **@utilityë³´ë‹¤ ìœ„ ê¶Œì¥**          | ìœ í‹¸ë¦¬í‹° ë§Œë“¤ ë•Œ variant ì´ë¯¸ ë“±ë¡ë¼ ìˆì–´ì•¼ ì ìš©ë¨ |
| `@utility`                                    | ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° ì •ì˜               | âš™ï¸ ì¤‘ê°„                           | variant, theme ì •ì˜ í›„ ë“±ì¥í•´ì•¼ í•¨       |
| `@tailwind base` / `components` / `utilities` | ì‹¤ì œ CSS ìƒì„± íŠ¸ë¦¬ê±°             | âœ… **ë§¨ ë§ˆì§€ë§‰**                     | ì•ì„œ ì •ì˜ëœ í† í°Â·variantÂ·ìœ í‹¸ë¦¬í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±  |

ë””ë ‰í‹°ë¸Œë“¤ì´ Tailwindì˜ **ì„¤ì • ë‹¨ê³„**ë¥¼ ë‹´ë‹¹í•˜ê³ , ì‹¤ì œ **ë¹Œë“œ ë‹¨ê³„**ì—ì„œëŠ” ì´ ì„¤ì •ì„ ë°”íƒ•ìœ¼ë¡œ CSSê°€ ìƒì„±ë˜ëŠ” êµ¬ì¡°


## ğŸ”„ ë””ë ‰í‹°ë¸Œ ì²˜ë¦¬ ìˆœì„œ

```typescript
async function parseCss(ast: AstNode[], opts: CompileOptions = {}) {
  // 1. ASTë¥¼ ìˆœíšŒí•˜ë©° ê° ë…¸ë“œ ê²€ì‚¬
  for (let node of ast) {
    
    // 2. @theme ì²˜ë¦¬ - í…Œë§ˆ ë³€ìˆ˜ ì¶”ì¶œ
    if (node.name === '@theme') {
      theme.add(child.property, child.value, themeOptions)
    }
    
    // 3. @utility ì²˜ë¦¬ - ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° ë“±ë¡
    if (node.name === '@utility') {
      let utility = createCssUtility(node)
      customUtilities.push(utility)
    }
    
    // 4. @variant ì²˜ë¦¬ - ì»¤ìŠ¤í…€ ë³€í˜•ì ë“±ë¡
    if (node.name === '@variant') {
      let variant = parseVariant(node)
      customVariants.push(variant)
    }
    
    // 5. @source ì²˜ë¦¬ - ìŠ¤ìº” ê²½ë¡œ ì„¤ì •
    if (node.name === '@source') {
      globs.push(node.params)
    }
    
    // 6. @tailwind utilities ìœ„ì¹˜ ì €ì¥
    if (node.name === '@tailwind' && node.params === 'utilities') {
      utilitiesNode = node // ë‚˜ì¤‘ì— ì‹¤ì œ ìœ í‹¸ë¦¬í‹°ë¡œ êµì²´
    }
  }
}
```