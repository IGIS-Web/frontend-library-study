# SSGOI ë””ìì¸ íŒ¨í„´ ì™„ì „ ë¶„ì„: ì£¼ë‹ˆì–´ ê°œë°œìë¥¼ ìœ„í•œ ê°€ì´ë“œ

## ê°œìš”

SSGOI í”„ë¡œì íŠ¸ëŠ” ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë©´ì„œë„ ê¹”ë”í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ë””ìì¸ íŒ¨í„´ì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•©ë‹ˆë‹¤.

## ëª©ì°¨

1. [Factory Pattern (íŒ©í† ë¦¬ íŒ¨í„´)](#1-factory-pattern-íŒ©í† ë¦¬-íŒ¨í„´)
2. [Strategy Pattern (ì „ëµ íŒ¨í„´)](#2-strategy-pattern-ì „ëµ-íŒ¨í„´)
3. [Builder Pattern (ë¹Œë” íŒ¨í„´)](#3-builder-pattern-ë¹Œë”-íŒ¨í„´)
4. [Observer Pattern (ì˜µì €ë²„ íŒ¨í„´)](#4-observer-pattern-ì˜µì €ë²„-íŒ¨í„´)
5. [Template Method Pattern (í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´)](#5-template-method-pattern-í…œí”Œë¦¿-ë©”ì„œë“œ-íŒ¨í„´)
6. [Command Pattern (ì»¤ë§¨ë“œ íŒ¨í„´)](#6-command-pattern-ì»¤ë§¨ë“œ-íŒ¨í„´)
7. [Facade Pattern (íŒŒì‚¬ë“œ íŒ¨í„´)](#7-facade-pattern-íŒŒì‚¬ë“œ-íŒ¨í„´)
8. [Registry Pattern (ë ˆì§€ìŠ¤íŠ¸ë¦¬ íŒ¨í„´)](#8-registry-pattern-ë ˆì§€ìŠ¤íŠ¸ë¦¬-íŒ¨í„´)
9. [Adapter Pattern (ì–´ëŒ‘í„° íŒ¨í„´)](#9-adapter-pattern-ì–´ëŒ‘í„°-íŒ¨í„´)
10. [State Pattern (ìƒíƒœ íŒ¨í„´)](#10-state-pattern-ìƒíƒœ-íŒ¨í„´)
11. [ê¸°íƒ€ íŒ¨í„´ë“¤](#11-ê¸°íƒ€-íŒ¨í„´ë“¤)
12. [íŒ¨í„´ë“¤ì˜ ìƒí˜¸ì‘ìš©](#12-íŒ¨í„´ë“¤ì˜-ìƒí˜¸ì‘ìš©)
13. [ì£¼ë‹ˆì–´ ê°œë°œìë¥¼ ìœ„í•œ í•™ìŠµ í¬ì¸íŠ¸](#13-ì£¼ë‹ˆì–´-ê°œë°œìë¥¼-ìœ„í•œ-í•™ìŠµ-í¬ì¸íŠ¸)

---

## 1. Factory Pattern (íŒ©í† ë¦¬ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ê°ì²´ ìƒì„± ë¡œì§ì„ ìº¡ìŠí™”í•˜ì—¬ ì½”ë“œì˜ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 1.1 Animator Factory

```typescript
// packages/core/src/lib/animator.ts:374
static fromState<TAnimationValue = number>(
  state: {
    position: TAnimationValue;
    velocity: TAnimationValue extends number ? number : Record<string, number>;
  },
  newOptions: Partial<AnimationOptions<TAnimationValue>>
): Animator<TAnimationValue> {
  const animation = new Animator<TAnimationValue>(newOptions);
  animation.setValue(state.position);
  animation.setVelocity(state.velocity);
  return animation;
}
```

**ì¼ë°˜ì ì¸ ìƒì„± vs Factory ì‚¬ìš©:**

```typescript
// âŒ ì¼ë°˜ì ì¸ ë°©ì‹ - ë³µì¡í•˜ê³  ì‹¤ìˆ˜í•˜ê¸° ì‰¬ì›€
const animator = new Animator(options);
animator.setValue(currentState.position);
animator.setVelocity(currentState.velocity);
if (shouldReverse) {
    animator.reverse();
}

// âœ… Factory íŒ¨í„´ - ê°„ë‹¨í•˜ê³  ì•ˆì „í•¨
const animator = Animator.fromState(currentState, options);
```

#### 1.2 Transition Context Factory

```typescript
// packages/core/src/lib/create-ssgoi-transition-context.ts:129
export function createSggoiTransitionContext(options: SsgoiConfig): SsgoiContext {
    // ë³µì¡í•œ ì´ˆê¸°í™” ë¡œì§ì„ ìº¡ìŠí™”
    const processedTransitions = processSymmetricTransitions(transitions);
    const {startScrollTracking, calculateScrollOffset} = createScrollManager();

    // ... ë³µì¡í•œ ë¡œì§

    return (path: string) => ({
        key: path,
        in: async (element: HTMLElement) => {
            /* ... */
        },
        out: async (element: HTMLElement) => {
            /* ... */
        }
    });
}
```

#### 1.3 Transition Factory Functions

```typescript
// packages/core/src/lib/view-transitions/fade.ts:8
export const fade = (options: FadeOptions = {}): SggoiTransition => {
    const spring: SpringConfig = {
        stiffness: options.spring?.stiffness ?? 300,
        damping: options.spring?.damping ?? 30
    };

    return {
        in: element => ({
            spring,
            tick: progress => {
                /* ... */
            }
        }),
        out: element => ({
            spring,
            tick: progress => {
                /* ... */
            }
        })
    };
};
```

### ğŸ’° ì´ì 

1. **ë³µì¡ì„± ìˆ¨ê¹€**: ê°ì²´ ìƒì„±ì˜ ë³µì¡í•œ ë¡œì§ì„ ì‚¬ìš©ìë¡œë¶€í„° ìˆ¨ê¹€
2. **ì¼ê´€ì„± ë³´ì¥**: ì˜¬ë°”ë¥¸ ì´ˆê¸°í™” ìƒíƒœë¥¼ ë³´ì¥
3. **íƒ€ì… ì•ˆì „ì„±**: TypeScriptì™€ í•¨ê»˜ ì‚¬ìš©ì‹œ íƒ€ì… ì•ˆì „ì„± ì œê³µ
4. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: Mock ê°ì²´ ìƒì„±ì´ ì‰¬ì›Œì§

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± íŒ©í† ë¦¬ ì—†ì´ ì§ì ‘ ìƒì„±í•œë‹¤ë©´...
const animator = new Animator({
    from: setupPhase1(),
    to: setupPhase2(),
    spring: {stiffness: 300, damping: 30},
    onUpdate: value => {
        // ë§¤ë²ˆ ì´ ë¡œì§ì„ ë°˜ë³µí•´ì•¼ í•¨
        element.style.opacity = value.toString();
    },
    onComplete: () => {
        // ë§¤ë²ˆ ì •ë¦¬ ë¡œì§ì„ ë°˜ë³µí•´ì•¼ í•¨
        cleanupAnimation();
        resetState();
    }
});

// ìƒíƒœ ì„¤ì •ì„ ê¹œë¹¡í•  ìˆ˜ ìˆìŒ
// animator.setValue(???) // ì–´ë–¤ ê°’?
// animator.setVelocity(???) // ë˜ ì–´ë–¤ ê°’?
```

**ë¬¸ì œì :**

- ì½”ë“œ ì¤‘ë³µ
- ì‹¤ìˆ˜ ê°€ëŠ¥ì„± ì¦ê°€
- ì¼ê´€ì„± ë¶€ì¡±
- í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€

---

## 2. Strategy Pattern (ì „ëµ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ëŸ°íƒ€ì„ì— ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ì•Œê³ ë¦¬ì¦˜ êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 2.1 Transition Strategy

```typescript
// packages/core/src/lib/transition-strategy.ts:61
export const createDefaultStrategy = <TAnimationValue = number>(context: StrategyContext<TAnimationValue>): TransitionStrategy<TAnimationValue> => {
    return {
        runIn: async (configs: TransitionConfigs<TAnimationValue>) => {
            const {currentAnimation} = context;

            // 4ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ ì²˜ë¦¬ ì „ëµ
            if (currentAnimation && currentAnimation.direction === "out") {
                // Scenario 4: OUT â†’ IN (ì—­ë°©í–¥ ì „í™˜)
                const currentState = currentAnimation.animator.getCurrentState();
                // ...
            }
            // Scenario 1: ì¼ë°˜ IN ì• ë‹ˆë©”ì´ì…˜
            // ...
        },

        runOut: async (configs: TransitionConfigs<TAnimationValue>) => {
            // Scenario 2, 3 ì²˜ë¦¬
            // ...
        }
    };
};
```

#### 2.2 Animation Strategy Selection

```typescript
// packages/core/src/lib/create-transition-callback.ts:31
const strategy = options?.strategy?.(context) || createDefaultStrategy<TAnimationValue>(context);

// ì‚¬ìš©ì ì •ì˜ ì „ëµë„ ê°€ëŠ¥
const customStrategy = context => ({
    runIn: async configs => {
        // ì»¤ìŠ¤í…€ IN ì „ëµ
    },
    runOut: async configs => {
        // ì»¤ìŠ¤í…€ OUT ì „ëµ
    }
});
```

### ğŸ’° ì´ì 

1. **ìœ ì—°ì„±**: ëŸ°íƒ€ì„ì— ì „ëµ ë³€ê²½ ê°€ëŠ¥
2. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì „ëµì„ ì‰½ê²Œ ì¶”ê°€
3. **ì¬ì‚¬ìš©ì„±**: ì „ëµì„ ë‹¤ë¥¸ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì¬ì‚¬ìš©
4. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ê° ì „ëµì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ëª¨ë“  ë¡œì§ì´ í•œ ê³³ì— ëª°ë ¤ìˆìŒ
function handleTransition(type: 'in' | 'out', configs: any) {
  if (type === 'in') {
    if (currentAnimation && currentAnimation.direction === "out") {
      // ì‹œë‚˜ë¦¬ì˜¤ 4 ë¡œì§
      if (/* ì¡°ê±´ 1 */) {
        // ì¼€ì´ìŠ¤ 1
      } else if (/* ì¡°ê±´ 2 */) {
        // ì¼€ì´ìŠ¤ 2
      } else if (/* ì¡°ê±´ 3 */) {
        // ì¼€ì´ìŠ¤ 3
      } // ... ë¬´í•œ if-else
    } else {
      // ì‹œë‚˜ë¦¬ì˜¤ 1 ë¡œì§
      if (/* ë˜ ë‹¤ë¥¸ ì¡°ê±´ë“¤ */) {
        // ...
      }
    }
  } else if (type === 'out') {
    // ë˜ ë‹¤ë¥¸ ë³µì¡í•œ ë¶„ê¸°ë“¤...
  }
  // ğŸ˜µ ìœ ì§€ë³´ìˆ˜ ì§€ì˜¥
}
```

**ë¬¸ì œì :**

- ê±°ëŒ€í•œ if-else ë¸”ë¡
- ìƒˆë¡œìš´ ì „ëµ ì¶”ê°€ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”
- í…ŒìŠ¤íŠ¸ ë³µì¡ì„± ì¦ê°€
- ì½”ë“œ ì´í•´ ì–´ë ¤ì›€

---

## 3. Builder Pattern (ë¹Œë” íŒ¨í„´)

### ğŸ¯ ëª©ì 

ë³µì¡í•œ ê°ì²´ë¥¼ ë‹¨ê³„ë³„ë¡œ êµ¬ì¶•í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ìƒì„± ê³¼ì •ì„ ìœ ì—°í•˜ê²Œ ì œì–´í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 3.1 Transition Configuration Builder

```typescript
// ì‚¬ìš© ì˜ˆì‹œ - ë‹¨ê³„ë³„ ì„¤ì • êµ¬ì¶•
const ssgoiConfig: SsgoiConfig = {
    transitions: [
        {
            from: "/",
            to: "/about",
            transition: fade({
                spring: {
                    stiffness: 300,
                    damping: 30
                }
            }),
            symmetric: true // ìë™ìœ¼ë¡œ ì—­ë°©í–¥ ì „í™˜ë„ ìƒì„±
        },
        {
            from: "/gallery",
            to: "/detail/*",
            transition: pinterest({
                spring: {
                    stiffness: 50,
                    damping: 10
                },
                timeout: 500
            })
        }
    ],
    defaultTransition: fade(),
    middleware: (from, to) => ({from, to})
};
```

#### 3.2 Transition Options Builder

```typescript
// packages/core/src/lib/transitions/slide.ts:13
export const slide = (options: SlideOptions = {}) => {
    const {direction, distance = 100, opacity = 0, fade = true, axis, spring = {stiffness: 400, damping: 35}} = options;

    // ì˜µì…˜ë“¤ì„ ì¡°í•©í•˜ì—¬ ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ ê°ì²´ êµ¬ì¶•
    return {
        in: element => ({
            spring,
            tick: progress => {
                element.style.transform = getTransform(progress);
                if (fade) {
                    element.style.opacity = (opacity + (1 - opacity) * progress).toString();
                }
            }
        }),
        out: element => ({
            /* ... */
        })
    };
};
```

### ğŸ’° ì´ì 

1. **ì ì§„ì  êµ¬ì¶•**: ë³µì¡í•œ ì„¤ì •ì„ ë‹¨ê³„ë³„ë¡œ êµ¬ì„±
2. **ê¸°ë³¸ê°’ ì œê³µ**: í•©ë¦¬ì ì¸ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš© í¸ì˜ì„± í–¥ìƒ
3. **ì˜µì…˜ ì¡°í•©**: ë‹¤ì–‘í•œ ì˜µì…˜ì„ ìœ ì—°í•˜ê²Œ ì¡°í•©
4. **ê°€ë…ì„±**: ì„¤ì • ì˜ë„ê°€ ëª…í™•íˆ í‘œí˜„ë¨

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ëª¨ë“  ì˜µì…˜ì„ ë§¤ë²ˆ ì§€ì •í•´ì•¼ í•¨
const slideTransition = createSlideTransition(
    "left", // direction
    100, // distance
    0, // opacity
    true, // fade
    undefined, // axis
    300, // stiffness
    30, // damping
    true, // includeOpacity
    false // reverseDirection
    // ... ë” ë§ì€ ë§¤ê°œë³€ìˆ˜ë“¤
);

// ğŸ˜µ ì˜µì…˜ ìˆœì„œë¥¼ ê¸°ì–µí•´ì•¼ í•˜ê³ , ì‹¤ìˆ˜í•˜ê¸° ì‰¬ì›€
```

**ë¬¸ì œì :**

- ê¸´ ë§¤ê°œë³€ìˆ˜ ëª©ë¡
- ì˜µì…˜ ìˆœì„œ ì•”ê¸° í•„ìš”
- ê¸°ë³¸ê°’ ì—†ì–´ì„œ í•­ìƒ ëª¨ë“  ê°’ ì§€ì •
- ê°€ë…ì„± ì €í•˜

---

## 4. Observer Pattern (ì˜µì €ë²„ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì‹¬ ìˆëŠ” ë‹¤ë¥¸ ê°ì²´ë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦½ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 4.1 Animation Lifecycle Observers

```typescript
// packages/core/src/lib/animator.ts:93
this.controls = animate({
    ...animateOptions,

    onUpdate: (value: TAnimationValue) => {
        // ğŸ”” ìƒíƒœ ë³€í™” ì•Œë¦¼
        this.currentValue = value;
        this.options.onUpdate(value); // Observer í˜¸ì¶œ!
    },

    onComplete: () => {
        // ğŸ”” ì™„ë£Œ ì•Œë¦¼
        this.currentValue = target;
        this.isAnimating = false;
        this.options.onComplete(); // Observer í˜¸ì¶œ!
    }
});
```

#### 4.2 Transition Lifecycle Observers

```typescript
// packages/core/src/lib/view-transitions/fade.ts:15
return {
    in: element => ({
        spring,
        tick: progress => {
            // ğŸ”” ë§¤ í”„ë ˆì„ë§ˆë‹¤ ê´€ì°°ì(DOM)ì—ê²Œ ì•Œë¦¼
            element.style.opacity = progress.toString();
        },
        onStart: () => {
            // ğŸ”” ì‹œì‘ ì•Œë¦¼
            console.log("Fade in started");
        },
        onEnd: () => {
            // ğŸ”” ì¢…ë£Œ ì•Œë¦¼
            console.log("Fade in completed");
        }
    })
};
```

#### 4.3 Promise-based Observers

```typescript
// packages/core/src/lib/create-ssgoi-transition-context.ts:182
return new Promise<GetTransitionConfig>(resolve => {
    pendingTransition!.outResolve = resolve; // ğŸ”” Observer ë“±ë¡
    checkAndResolve(); // ì¡°ê±´ í™•ì¸ í›„ ì•Œë¦¼
});
```

### ğŸ’° ì´ì 

1. **ëŠìŠ¨í•œ ê²°í•©**: ê°ì²´ë“¤ì´ ì„œë¡œ ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•ŠìŒ
2. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ê´€ì°°ìë¥¼ ì‰½ê²Œ ì¶”ê°€
3. **ë°˜ì‘ì„±**: ìƒíƒœ ë³€í™”ì— ì¦‰ì‹œ ë°˜ì‘
4. **ì¬ì‚¬ìš©ì„±**: ê°™ì€ ì´ë²¤íŠ¸ë¥¼ ì—¬ëŸ¬ ê´€ì°°ìê°€ ì²˜ë¦¬

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ëª¨ë“  ê³³ì— ì§ì ‘ í˜¸ì¶œ ì½”ë“œ
function animateValue(value: number) {
    // DOM ì—…ë°ì´íŠ¸ë¥¼ ì§ì ‘ í˜¸ì¶œ
    element1.style.opacity = value.toString();
    element2.style.transform = `scale(${value})`;

    // ë¡œê¹…ì„ ì§ì ‘ í˜¸ì¶œ
    console.log("Animation progress:", value);

    // ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì§ì ‘ í˜¸ì¶œ
    updateProgressBar(value);

    // í†µê³„ë¥¼ ì§ì ‘ í˜¸ì¶œ
    trackAnimationProgress(value);

    // ğŸ˜µ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ì‹œë§ˆë‹¤ ì´ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ì•¼ í•¨
}
```

**ë¬¸ì œì :**

- ê°•í•œ ê²°í•©
- í™•ì¥ì„± ë¶€ì¡±
- ì½”ë“œ ì¤‘ë³µ
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ ìœ„ë°°

---

## 5. Template Method Pattern (í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ìœ ì§€í•˜ë©´ì„œ íŠ¹ì • ë‹¨ê³„ë“¤ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 5.1 Transition Creation Template

```typescript
// ëª¨ë“  transition ìƒì„± í•¨ìˆ˜ë“¤ì˜ ê³µí†µ í…œí”Œë¦¿
const transitionTemplate = (options: any) => {
    // 1. ì˜µì…˜ ì²˜ë¦¬ (ê³µí†µ)
    const spring = {
        stiffness: options.spring?.stiffness ?? 300,
        damping: options.spring?.damping ?? 30
    };

    // 2. ê³µí†µ êµ¬ì¡° ë°˜í™˜
    return {
        in: element => ({
            spring,
            tick: progress => {
                // 3. ê° ì „í™˜ë³„ë¡œ ë‹¤ë¥¸ êµ¬í˜„ (Template Method)
                applyInAnimation(element, progress, options);
            }
        }),
        out: element => ({
            spring,
            tick: progress => {
                // 4. ê° ì „í™˜ë³„ë¡œ ë‹¤ë¥¸ êµ¬í˜„ (Template Method)
                applyOutAnimation(element, progress, options);
            }
        })
    };
};
```

#### 5.2 Fade Implementation

```typescript
// packages/core/src/lib/view-transitions/fade.ts:8
export const fade = (options: FadeOptions = {}) => {
    // í…œí”Œë¦¿ì˜ íŠ¹ì • ë¶€ë¶„ë§Œ êµ¬í˜„
    const applyAnimation = (progress: number) => {
        element.style.opacity = progress.toString(); // ğŸ¯ fade íŠ¹í™”
    };

    return createTransitionTemplate(options, applyAnimation);
};
```

#### 5.3 Scale Implementation

```typescript
// packages/core/src/lib/transitions/scale.ts:31
export const scale = (options: ScaleOptions = {}) => {
    // í…œí”Œë¦¿ì˜ íŠ¹ì • ë¶€ë¶„ë§Œ êµ¬í˜„
    const applyAnimation = (progress: number) => {
        const scaleValue = start + (1 - start) * progress;
        element.style.transform = getScaleTransform(scaleValue); // ğŸ¯ scale íŠ¹í™”
        element.style.opacity = (opacity + (1 - opacity) * progress).toString();
    };

    return createTransitionTemplate(options, applyAnimation);
};
```

### ğŸ’° ì´ì 

1. **ì½”ë“œ ì¬ì‚¬ìš©**: ê³µí†µ ë¡œì§ì„ í•œ ë²ˆë§Œ ì‘ì„±
2. **ì¼ê´€ì„±**: ëª¨ë“  êµ¬í˜„ì²´ê°€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ ë³´ì¥
3. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì „í™˜ ì¶”ê°€ê°€ ì‰¬ì›€
4. **ìœ ì§€ë³´ìˆ˜**: ê³µí†µ ë¡œì§ ë³€ê²½ì´ í•œ ê³³ì—ì„œë§Œ

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ê° ì „í™˜ë§ˆë‹¤ ëª¨ë“  ë¡œì§ì„ ë°˜ë³µ
export const fade = (options: FadeOptions = {}) => {
    // ì˜µì…˜ ì²˜ë¦¬ ë¡œì§ ì¤‘ë³µ
    const spring = {
        stiffness: options.spring?.stiffness ?? 300,
        damping: options.spring?.damping ?? 30
    };

    // êµ¬ì¡° ì¤‘ë³µ
    return {
        in: element => ({
            spring,
            prepare: prepareIncoming, // ì¤‘ë³µ
            tick: progress => {
                element.style.opacity = progress.toString();
            },
            onStart: () => {
                /* ê³µí†µ ë¡œì§ ì¤‘ë³µ */
            },
            onEnd: () => {
                /* ê³µí†µ ë¡œì§ ì¤‘ë³µ */
            }
        }),
        out: element => ({
            /* ë˜ ì¤‘ë³µ... */
        })
    };
};

export const scale = (options: ScaleOptions = {}) => {
    // ğŸ˜µ ë˜‘ê°™ì€ ì˜µì…˜ ì²˜ë¦¬ ë¡œì§
    const spring = {
        stiffness: options.spring?.stiffness ?? 300,
        damping: options.spring?.damping ?? 30
    };

    // ğŸ˜µ ë˜‘ê°™ì€ êµ¬ì¡°
    return {
        in: element => ({
            /* ëª¨ë“  ê²Œ ì¤‘ë³µ... */
        })
    };
};
```

**ë¬¸ì œì :**

- ì½”ë“œ ì¤‘ë³µ
- ì¼ê´€ì„± ë¶€ì¡±
- ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€
- ìƒˆë¡œìš´ ì „í™˜ ì¶”ê°€ì‹œ ë§ì€ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸

---

## 6. Command Pattern (ì»¤ë§¨ë“œ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ìš”ì²­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•˜ì—¬ ìš”ì²­ì„ ë§¤ê°œë³€ìˆ˜í™”í•˜ê³ , íì— ì €ì¥í•˜ê±°ë‚˜ ë¡œê¹…í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 6.1 Transition Commands

```typescript
// packages/core/src/lib/transition.ts:75
export function transition<TAnimationValue = number>(options: {
    key: TransitionKey;
    in?: Transition<undefined, TAnimationValue>["in"];
    out?: Transition<undefined, TAnimationValue>["out"];
}): TransitionCallback {
    // ğŸ¯ ì• ë‹ˆë©”ì´ì…˜ ëª…ë ¹ì„ ê°ì²´ë¡œ ìº¡ìŠí™”
    return registerTransition(options.key, {
        in: options.in, // IN ëª…ë ¹
        out: options.out // OUT ëª…ë ¹
    });
}
```

#### 6.2 Animation Commands

```typescript
// packages/core/src/lib/animator.ts:263
// ê° ì• ë‹ˆë©”ì´ì…˜ ë™ì‘ì„ ëª…ë ¹ìœ¼ë¡œ ìº¡ìŠí™”
forward(): void {
  this.stop();
  this.animate(false); // ğŸ¯ Forward ëª…ë ¹
}

backward(): void {
  this.stop();
  this.animate(true); // ğŸ¯ Backward ëª…ë ¹
}

reverse(): void {
  // ğŸ¯ Reverse ëª…ë ¹ - ë°©í–¥ì„ ë°”ê¾¸ê³  ì‹¤í–‰
  const temp = this.options.from;
  this.options.from = this.options.to;
  this.options.to = temp;

  if (this.isAnimating) {
    const wasReversed = this.shouldReverse();
    this.stop();
    this.animate(!wasReversed);
  }
}
```

#### 6.3 Transition Registry Commands

```typescript
// packages/core/src/lib/transition.ts:29
function registerTransition<TAnimationValue = number>(key: TransitionKey, transition: Transition<undefined, TAnimationValue>): TransitionCallback {
    // ğŸ¯ ë“±ë¡ ëª…ë ¹
    transitionDefinitions.set(key, transition);

    // ğŸ¯ ì‹¤í–‰ ëª…ë ¹ ë°˜í™˜
    return createTransitionCallback(/* ... */);
}

function unregisterTransition(key: TransitionKey): void {
    // ğŸ¯ í•´ì œ ëª…ë ¹
    transitionDefinitions.delete(key);
    transitionCallbacks.delete(key);
}
```

### ğŸ’° ì´ì 

1. **ì‹¤í–‰ ì§€ì—°**: ëª…ë ¹ì„ ë‚˜ì¤‘ì— ì‹¤í–‰í•  ìˆ˜ ìˆìŒ
2. **ë¡œê¹…/ì‹¤í–‰ì·¨ì†Œ**: ëª…ë ¹ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ê°€ëŠ¥
3. **íì‰**: ëª…ë ¹ì„ íì— ì €ì¥í•˜ì—¬ ìˆœì°¨ ì‹¤í–‰
4. **ë§¤ê°œë³€ìˆ˜í™”**: ê°™ì€ ëª…ë ¹ì„ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì‹¤í–‰

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ëª¨ë“  ê³³ì—ì„œ ì§ì ‘ í˜¸ì¶œ
function handleUserAction(action: string, element: HTMLElement) {
    if (action === "fadeIn") {
        // ì§ì ‘ ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ í˜¸ì¶œ
        element.style.opacity = "0";
        let progress = 0;
        const interval = setInterval(() => {
            progress += 0.01;
            element.style.opacity = progress.toString();
            if (progress >= 1) {
                clearInterval(interval);
            }
        }, 16);
    } else if (action === "fadeOut") {
        // ğŸ˜µ ë˜ ë‹¤ë¥¸ ì§ì ‘ í˜¸ì¶œ...
    }

    // ğŸ˜± ì‹¤í–‰ ì·¨ì†Œ? íˆìŠ¤í† ë¦¬? ë¶ˆê°€ëŠ¥!
}
```

**ë¬¸ì œì :**

- ëª…ë ¹ê³¼ ì‹¤í–‰ì´ ê°•í•˜ê²Œ ê²°í•©
- ì‹¤í–‰ ì·¨ì†Œ ë¶ˆê°€ëŠ¥
- ë¡œê¹… ì–´ë ¤ì›€
- í…ŒìŠ¤íŠ¸ ë³µì¡

---

## 7. Facade Pattern (íŒŒì‚¬ë“œ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ë³µì¡í•œ ì„œë¸Œì‹œìŠ¤í…œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ì—¬ ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ í†µí•© ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 7.1 React Facade

```typescript
// packages/react/src/lib/ssgoi.tsx:13
export const Ssgoi: React.FC<SsgoiProps> = ({ config, children }) => {
  // ğŸ­ ë³µì¡í•œ Core ë¡œì§ì„ ê°„ë‹¨í•œ React ì¸í„°í˜ì´ìŠ¤ë¡œ ìˆ¨ê¹€
  const contextValue = useMemo<SsgoiContext>(
    () => createSggoiTransitionContext(config), // ë³µì¡í•œ Core ìƒì„±
    [config]
  );

  return <SsgoiProvider value={contextValue}>{children}</SsgoiProvider>;
};
```

**ì‚¬ìš©ìê°€ ë³´ëŠ” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤:**

```typescript
// âœ… ê°„ë‹¨í•œ ì‚¬ìš©ë²• - Facade ë•ë¶„!
function App() {
  return (
    <Ssgoi config={simpleConfig}>
      <MyApp />
    </Ssgoi>
  );
}
```

**Facadeê°€ ìˆ¨ê¸°ëŠ” ë³µì¡í•¨:**

```typescript
// ğŸ˜± Facade ì—†ì´ ì§ì ‘ ì‚¬ìš©í•œë‹¤ë©´...
function App() {
  const processedTransitions = processSymmetricTransitions(config.transitions);
  const scrollManager = createScrollManager();
  const pendingTransition = null;
  const transitionContext = createComplexContext(/* ìˆ˜ë§ì€ ë§¤ê°œë³€ìˆ˜ */);

  return (
    <ComplexProvider
      value={transitionContext}
      scrollManager={scrollManager}
      processedTransitions={processedTransitions}
      /* ë” ë§ì€ ë³µì¡í•œ props */
    >
      <MyApp />
    </ComplexProvider>
  );
}
```

#### 7.2 SsgoiTransition Facade

```typescript
// packages/react/src/lib/ssgoi-transition.tsx:7
export const SsgoiTransition = ({children, id}: {children: ReactNode; id: string}) => {
    const getTransition = useSsgoi(); // Coreì™€ì˜ ë³µì¡í•œ ì—°ê²° ìˆ¨ê¹€

    return (
        <div ref={transition(getTransition(id))} data-ssgoi-transition={id}>
            {children}
        </div>
    );
};
```

### ğŸ’° ì´ì 

1. **ì‚¬ìš© í¸ì˜ì„±**: ë³µì¡í•œ ì‹œìŠ¤í…œì„ ê°„ë‹¨íˆ ì‚¬ìš©
2. **í•™ìŠµ ê³¡ì„  ê°ì†Œ**: í•µì‹¬ ê¸°ëŠ¥ë§Œ ë…¸ì¶œ
3. **ìœ ì§€ë³´ìˆ˜**: ë‚´ë¶€ ë³€ê²½ì´ ì‚¬ìš©ìì—ê²Œ ì˜í–¥ ì—†ìŒ
4. **ì˜ì¡´ì„± ê°ì†Œ**: í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë¸Œì‹œìŠ¤í…œì— ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•ŠìŒ

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

ëª¨ë“  React ì‚¬ìš©ìê°€ SSGOI Coreì˜ ë³µì¡í•œ APIë¥¼ ì§ì ‘ ë‹¤ë¤„ì•¼ í•¨:

```typescript
// ğŸ˜± ëª¨ë“  ì‚¬ìš©ìê°€ ì´ëŸ° ë³µì¡í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•¨
function MyComponent() {
  const context = createSggoiTransitionContext({
    transitions: processSymmetricTransitions([/* ... */]),
    defaultTransition: createDefaultTransition(),
    middleware: createMiddleware(),
    scrollManager: createScrollManager()
  });

  const transitionCallback = createTransitionCallback(
    () => context('my-page'),
    {
      strategy: createDefaultStrategy(),
      onCleanupEnd: () => cleanupTransition()
    }
  );

  const refCallback = (element) => {
    if (element) {
      transitionCallback(element);
    }
  };

  return <div ref={refCallback}>Content</div>;
}
```

**ë¬¸ì œì :**

- ë†’ì€ í•™ìŠµ ê³¡ì„ 
- ì‹¤ìˆ˜í•˜ê¸° ì‰¬ìš´ ë³µì¡í•œ API
- ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ë°ì´íŠ¸ ì‹œ ì‚¬ìš©ì ì½”ë“œ ìˆ˜ì • í•„ìš”

---

## 8. Registry Pattern (ë ˆì§€ìŠ¤íŠ¸ë¦¬ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ì „ì—­ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê°ì²´ë“¤ì„ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 8.1 Transition Registry

```typescript
// packages/core/src/lib/transition.ts:19
// ğŸ—‚ï¸ ì „ì—­ ë ˆì§€ìŠ¤íŠ¸ë¦¬
const transitionDefinitions = new Map<TransitionKey, Transition<any, any>>();
const transitionCallbacks = new Map<TransitionKey, TransitionCallback>();

function registerTransition<TAnimationValue = number>(key: TransitionKey, transition: Transition<undefined, TAnimationValue>): TransitionCallback {
    // ğŸ—‚ï¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë“±ë¡
    transitionDefinitions.set(key, transition);

    let callback = transitionCallbacks.get(key);
    if (callback) {
        return callback; // ğŸ”„ ì´ë¯¸ ë“±ë¡ëœ ê²ƒ ì¬ì‚¬ìš©
    }

    // ìƒˆë¡œ ìƒì„±í•˜ì—¬ ë“±ë¡
    callback = createTransitionCallback(/* ... */);
    transitionCallbacks.set(key, callback);
    return callback;
}
```

#### 8.2 Transition Lookup

```typescript
// ë“±ë¡ëœ transitionì„ í‚¤ë¡œ ì°¾ê¸°
const getTransition = (key: TransitionKey) => {
    const transition = transitionDefinitions.get(key);
    if (!transition) {
        console.warn(`Transition "${String(key)}" not found`);
        return {};
    }
    return transition;
};
```

### ğŸ’° ì´ì 

1. **ì¤‘ì•™ ê´€ë¦¬**: ëª¨ë“  transitionì„ í•œ ê³³ì—ì„œ ê´€ë¦¬
2. **ì¬ì‚¬ìš©**: ê°™ì€ transitionì„ ì—¬ëŸ¬ ê³³ì—ì„œ ì¬ì‚¬ìš©
3. **ë©”ëª¨ë¦¬ íš¨ìœ¨**: ì¤‘ë³µ ìƒì„± ë°©ì§€
4. **ë””ë²„ê¹…**: ë“±ë¡ëœ ëª¨ë“  transition ì¶”ì  ê°€ëŠ¥

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ê° ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ transition ì¤‘ë³µ ìƒì„±
function Page1() {
  const fadeTransition = createFadeTransition(); // ì¤‘ë³µ ìƒì„± 1
  return <div ref={transition(fadeTransition)}>Page 1</div>;
}

function Page2() {
  const fadeTransition = createFadeTransition(); // ì¤‘ë³µ ìƒì„± 2
  return <div ref={transition(fadeTransition)}>Page 2</div>;
}

function Page3() {
  const fadeTransition = createFadeTransition(); // ì¤‘ë³µ ìƒì„± 3
  return <div ref={transition(fadeTransition)}>Page 3</div>;
}

// ğŸ˜µ ë©”ëª¨ë¦¬ ë‚­ë¹„ + ì¼ê´€ì„± ë¶€ì¡±
```

**ë¬¸ì œì :**

- ë©”ëª¨ë¦¬ ë‚­ë¹„
- ì¤‘ë³µ ìƒì„±
- ì¼ê´€ì„± ë¶€ì¡±
- ë””ë²„ê¹… ì–´ë ¤ì›€

---

## 9. Adapter Pattern (ì–´ëŒ‘í„° íŒ¨í„´)

### ğŸ¯ ëª©ì 

í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë“¤ì´ í•¨ê»˜ ë™ì‘í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 9.1 React Ref Adapter

```typescript
// packages/react/src/lib/transition.ts:2
export { transition } from "@ssgoi/core";

// React ref callbackê³¼ Core transition callback ì—°ê²°
const MyComponent = () => {
  return (
    <div ref={transition({  // ğŸ”Œ React refë¥¼ Core transitionìœ¼ë¡œ ì–´ëŒ‘íŒ…
      key: 'my-transition',
      in: fadeIn,
      out: fadeOut
    })}>
      Content
    </div>
  );
};
```

#### 9.2 Framework Adapter

```typescript
// CoreëŠ” í”„ë ˆì„ì›Œí¬ ë¬´ê´€ì  ì„¤ê³„
// React íŒ¨í‚¤ì§€ê°€ Adapter ì—­í• 

// Core API (í”„ë ˆì„ì›Œí¬ ë¬´ê´€)
function coreTransition(options) {
    return (element: HTMLElement | null) => {
        // Core ë¡œì§
    };
}

// React Adapter
function reactTransition(options) {
    const coreCallback = coreTransition(options);

    // React ref callback í˜•íƒœë¡œ ì–´ëŒ‘íŒ…
    return (element: HTMLElement | null) => {
        return coreCallback(element);
    };
}
```

### ğŸ’° ì´ì 

1. **í˜¸í™˜ì„±**: ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì—°ê²°
2. **ì¬ì‚¬ìš©**: ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì • ì—†ì´ ì¬ì‚¬ìš©
3. **ë¶„ë¦¬**: í”„ë ˆì„ì›Œí¬ë³„ ì½”ë“œ ë¶„ë¦¬
4. **í™•ì¥ì„±**: ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ ì§€ì› ìš©ì´

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ê° í”„ë ˆì„ì›Œí¬ë§ˆë‹¤ Core ë¡œì§ì„ ë‹¤ì‹œ êµ¬í˜„
// React ë²„ì „
function reactSsgoi() {
    // Reactìš© ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ êµ¬í˜„
    // useEffect, useRef ë“± React íŠ¹í™” ì½”ë“œ
}

// Vue ë²„ì „
function vueSsgoi() {
    // Vueìš© ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ êµ¬í˜„
    // ref, onMounted ë“± Vue íŠ¹í™” ì½”ë“œ
}

// Svelte ë²„ì „
function svelteSsgoi() {
    // Svelteìš© ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ êµ¬í˜„
    // onMount, bind:this ë“± Svelte íŠ¹í™” ì½”ë“œ
}

// ğŸ˜µ í•µì‹¬ ë¡œì§ì´ ì¤‘ë³µìœ¼ë¡œ êµ¬í˜„ë¨
```

**ë¬¸ì œì :**

- ì½”ë“œ ì¤‘ë³µ
- ì¼ê´€ì„± ë¶€ì¡±
- ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€
- ë²„ê·¸ ìˆ˜ì •ì‹œ ëª¨ë“  í”„ë ˆì„ì›Œí¬ ì½”ë“œ ìˆ˜ì • í•„ìš”

---

## 10. State Pattern (ìƒíƒœ íŒ¨í„´)

### ğŸ¯ ëª©ì 

ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœì— ë”°ë¼ í–‰ë™ì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### ğŸ“ SSGOIì—ì„œì˜ êµ¬í˜„

#### 10.1 Animator State Management

```typescript
// packages/core/src/lib/animator.ts:21
export class Animator<TAnimationValue = number> {
    private isAnimating = false; // ğŸƒ ìƒíƒœ
    private currentValue: TAnimationValue;
    private velocity: TAnimationValue extends number ? number : Record<string, number>;

    // ìƒíƒœì— ë”°ë¥¸ ë‹¤ë¥¸ í–‰ë™
    forward(): void {
        if (this.isAnimating) {
            this.stop(); // ğŸ›‘ ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì´ë©´ ë¨¼ì € ì •ì§€
        }
        this.animate(false);
    }

    getCurrentState(): {
        position: TAnimationValue;
        velocity: TAnimationValue extends number ? number : Record<string, number>;
        from: TAnimationValue;
        to: TAnimationValue;
    } {
        // ğŸ” í˜„ì¬ ìƒíƒœ ë°˜í™˜
        return {
            position: this.currentValue,
            velocity: this.velocity,
            from: this.options.from,
            to: this.options.to
        };
    }
}
```

#### 10.2 Transition State Management

```typescript
// packages/core/src/lib/create-transition-callback.ts:17
let currentAnimation: {animator: Animator<TAnimationValue>; direction: "in" | "out"} | null = null;

const runEntrance = async (element: HTMLElement) => {
    // ğŸ­ ìƒíƒœì— ë”°ë¥¸ ë‹¤ë¥¸ ì²˜ë¦¬
    if (currentClone) {
        currentClone.remove(); // ì´ì „ ìƒíƒœ ì •ë¦¬
        currentClone = null;
    }

    // ... ì• ë‹ˆë©”ì´ì…˜ ë¡œì§

    currentAnimation = {animator, direction: "in"}; // ğŸ”„ ìƒíƒœ ì—…ë°ì´íŠ¸
};
```

### ğŸ’° ì´ì 

1. **ìƒíƒœ ìº¡ìŠí™”**: ìƒíƒœë³„ ë¡œì§ì„ ëª…í™•íˆ ë¶„ë¦¬
2. **ì¼ê´€ì„±**: ìƒíƒœ ë³€í™”ê°€ ì˜ˆì¸¡ ê°€ëŠ¥
3. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ìƒíƒœ ì¶”ê°€ ìš©ì´
4. **ë””ë²„ê¹…**: í˜„ì¬ ìƒíƒœë¥¼ ëª…í™•íˆ íŒŒì•…

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´?

```typescript
// ğŸ˜± ìƒíƒœë¥¼ ì „ì—­ ë³€ìˆ˜ë¡œ ê´€ë¦¬
let isAnimating = false;
let animationDirection = "";
let hasClone = false;
let currentProgress = 0;

function doSomething() {
    if (isAnimating && animationDirection === "in" && !hasClone) {
        // ğŸ˜µ ë³µì¡í•œ ì¡°ê±´ ë¶„ê¸°
        if (currentProgress > 0.5) {
            // ...
        } else {
            // ...
        }
    } else if (!isAnimating && hasClone) {
        // ğŸ˜µ ë˜ ë‹¤ë¥¸ ë³µì¡í•œ ë¶„ê¸°
    }
    // ğŸ˜­ ìƒíƒœ ì¡°í•© í­ë°œ
}
```

**ë¬¸ì œì :**

- ìƒíƒœ ì¡°í•© ë³µì¡ì„± ì¦ê°€
- ë²„ê·¸ ë°œìƒ í™•ë¥  ë†’ìŒ
- ë””ë²„ê¹… ì–´ë ¤ì›€
- ì½”ë“œ ì´í•´ ì–´ë ¤ì›€

---

## 11. ê¸°íƒ€ íŒ¨í„´ë“¤

### 11.1 Decorator Pattern (ë°ì½”ë ˆì´í„° íŒ¨í„´)

```typescript
// packages/core/src/lib/utils.ts:5
export const prepareOutgoing = (element: HTMLElement): void => {
    // ğŸ¨ ê¸°ì¡´ ìš”ì†Œì— ìŠ¤íƒ€ì¼ì„ ì¶”ê°€ë¡œ ì¥ì‹
    element.style.position = "absolute";
    element.style.width = "100%";
    element.style.top = "0";
    element.style.left = "0";
};
```

### 11.2 Proxy Pattern (í”„ë¡ì‹œ íŒ¨í„´)

```typescript
// React Contextê°€ Core ì ‘ê·¼ì„ ì¤‘ì¬
const useSsgoi = () => {
    const context = useContext(SsgoiContextInstance);
    if (!context) {
        throw new Error("useSsgoi must be used within SsgoiProvider");
    }
    return context; // ğŸ›¡ï¸ ì•ˆì „í•œ ì ‘ê·¼ ë³´ì¥
};
```

### 11.3 Chain of Responsibility Pattern

```typescript
// packages/core/src/lib/create-ssgoi-transition-context.ts:223
function findMatchingTransition(from: string, to: string, transitions: Array<any>) {
    // ğŸ”— ì •í™•í•œ ë§¤ì¹˜ ë¨¼ì € ì‹œë„
    for (const config of transitions) {
        if (matchPath(from, config.from) && matchPath(to, config.to)) {
            return config.transition;
        }
    }

    // ğŸ”— ì™€ì¼ë“œì¹´ë“œ ë§¤ì¹˜ ì‹œë„
    for (const config of transitions) {
        if ((config.from === "*" || matchPath(from, config.from)) && (config.to === "*" || matchPath(to, config.to))) {
            return config.transition;
        }
    }

    return null; // ğŸ”— ì²´ì¸ ë
}
```

---

## 12. íŒ¨í„´ë“¤ì˜ ìƒí˜¸ì‘ìš©

### 12.1 íŒ¨í„´ ì¡°í•© ì˜ˆì‹œ

```typescript
// ì—¬ëŸ¬ íŒ¨í„´ì´ í•¨ê»˜ ë™ì‘í•˜ëŠ” ì˜ˆì‹œ
function createComplexTransition() {
    // 1. Factory Pattern - ê°ì²´ ìƒì„±
    const animator = Animator.fromState(initialState, options);

    // 2. Strategy Pattern - ì „ëµ ì„ íƒ
    const strategy = createDefaultStrategy(context);

    // 3. Observer Pattern - ìƒíƒœ ë³€í™” ê´€ì°°
    animator.onUpdate = value => {
        // 4. Command Pattern - ëª…ë ¹ ì‹¤í–‰
        executeCommand("updateDOM", value);
    };

    // 5. State Pattern - ìƒíƒœ ê´€ë¦¬
    currentAnimation = {animator, direction: "in"};

    return animator;
}
```

### 12.2 íŒ¨í„´ ê°„ ì˜ì¡´ì„±

```
Facade (React)
    â†“
Adapter (React â†” Core)
    â†“
Factory (Context ìƒì„±)
    â†“
Registry (Transition ë“±ë¡)
    â†“
Template Method (Transition êµ¬ì¡°)
    â†“
Strategy (ì• ë‹ˆë©”ì´ì…˜ ì „ëµ)
    â†“
Command (ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰)
    â†“
Observer (ìƒíƒœ ë³€í™” ì•Œë¦¼)
    â†“
State (ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœ)
```

---

## 13. ì£¼ë‹ˆì–´ ê°œë°œìë¥¼ ìœ„í•œ í•™ìŠµ í¬ì¸íŠ¸

### 13.1 íŒ¨í„´ í•™ìŠµ ìˆœì„œ (ë‚œì´ë„ë³„)

#### ğŸŸ¢ ì´ˆê¸‰ (ë¨¼ì € ìµí˜€ì•¼ í•  íŒ¨í„´)

1. **Observer Pattern**: ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì˜ ê¸°ë³¸
2. **Factory Pattern**: ê°ì²´ ìƒì„±ì˜ ê¸°ë³¸
3. **Builder Pattern**: ì„¤ì • ê°ì²´ ë§Œë“¤ê¸°

#### ğŸŸ¡ ì¤‘ê¸‰ (ë‹¤ìŒì— ìµí íŒ¨í„´)

4. **Strategy Pattern**: ì•Œê³ ë¦¬ì¦˜ êµì²´í•˜ê¸°
5. **Command Pattern**: ì‘ì—…ì„ ê°ì²´ë¡œ ë§Œë“¤ê¸°
6. **Template Method**: ê³µí†µ êµ¬ì¡° ë§Œë“¤ê¸°

#### ğŸ”´ ê³ ê¸‰ (ë§ˆì§€ë§‰ì— ìµí íŒ¨í„´)

7. **Facade Pattern**: ë³µì¡í•œ ì‹œìŠ¤í…œ ê°ì‹¸ê¸°
8. **State Pattern**: ìƒíƒœë³„ í–‰ë™ ê´€ë¦¬
9. **Registry Pattern**: ì „ì—­ ê°ì²´ ê´€ë¦¬

### 13.2 ì‹¤ìŠµ ì•„ì´ë””ì–´

#### Observer íŒ¨í„´ ì—°ìŠµ

```typescript
// ê°„ë‹¨í•œ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°
class EventEmitter {
    private listeners = new Map<string, Function[]>();

    on(event: string, callback: Function) {
        if (!this.listeners.has(event)) {
            this.listeners.set(event, []);
        }
        this.listeners.get(event)!.push(callback);
    }

    emit(event: string, data: any) {
        const callbacks = this.listeners.get(event) || [];
        callbacks.forEach(callback => callback(data));
    }
}
```

#### Factory íŒ¨í„´ ì—°ìŠµ

```typescript
// ë‹¤ì–‘í•œ ë²„íŠ¼ ë§Œë“¤ê¸°
class ButtonFactory {
    static create(type: "primary" | "secondary", text: string) {
        switch (type) {
            case "primary":
                return new PrimaryButton(text);
            case "secondary":
                return new SecondaryButton(text);
            default:
                throw new Error("Unknown button type");
        }
    }
}
```

### 13.3 SSGOI ì½”ë“œ ì½ê¸° ê°€ì´ë“œ

#### 1ë‹¨ê³„: êµ¬ì¡° íŒŒì•…

- `packages/react/` - React ì¸í„°í˜ì´ìŠ¤ (Facade)
- `packages/core/` - í•µì‹¬ ë¡œì§ (ë‹¤ì–‘í•œ íŒ¨í„´ë“¤)

#### 2ë‹¨ê³„: ì£¼ìš” íŒŒì¼ ì½ê¸° ìˆœì„œ

1. `types.ts` - íƒ€ì… ì •ì˜ ì´í•´
2. `animator.ts` - ì• ë‹ˆë©”ì´ì…˜ ì—”ì§„ (State Pattern)
3. `transition.ts` - ì „í™˜ ê´€ë¦¬ (Registry Pattern)
4. `view-transitions/fade.ts` - ê°„ë‹¨í•œ êµ¬í˜„ (Template Method)

#### 3ë‹¨ê³„: íŒ¨í„´ ì°¾ê¸° ì—°ìŠµ

ê° íŒŒì¼ì„ ì½ìœ¼ë©´ì„œ "ì–´ë–¤ íŒ¨í„´ì´ ì‚¬ìš©ë˜ì—ˆì„ê¹Œ?" ìƒê°í•´ë³´ê¸°

### 13.4 ì•ˆí‹°íŒ¨í„´ í”¼í•˜ê¸°

#### âŒ í”¼í•´ì•¼ í•  ê²ƒë“¤

```typescript
// God Object - ëª¨ë“  ê¸°ëŠ¥ì„ í•œ í´ë˜ìŠ¤ì—
class SsgoiEverything {
    createAnimation() {
        /* ... */
    }
    manageTransitions() {
        /* ... */
    }
    handleRouting() {
        /* ... */
    }
    updateDOM() {
        /* ... */
    }
    // ğŸ˜± ë„ˆë¬´ ë§ì€ ì±…ì„
}

// Spaghetti Code - íŒ¨í„´ ì—†ëŠ” ë³µì¡í•œ ì½”ë“œ
function doEverything(type: string, options: any) {
    if (type === "fade") {
        if (options.direction === "in") {
            if (options.spring) {
                // ğŸ˜µ ëì—†ëŠ” ì¤‘ì²©
            }
        }
    }
}
```

#### âœ… ì¢‹ì€ ì˜ˆì‹œ (SSGOIì²˜ëŸ¼)

```typescript
// Single Responsibility - ê° í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì±…ì„
class Animator {
    // ì• ë‹ˆë©”ì´ì…˜ë§Œ ë‹´ë‹¹
}

class TransitionRegistry {
    // ì „í™˜ ë“±ë¡/ê´€ë¦¬ë§Œ ë‹´ë‹¹
}

class ReactAdapter {
    // React ì—°ê²°ë§Œ ë‹´ë‹¹
}
```

---

## 14. ê²°ë¡ 

SSGOIëŠ” ë‹¤ì–‘í•œ ë””ìì¸ íŒ¨í„´ì„ ì ì ˆíˆ ì¡°í•©í•˜ì—¬ ë‹¤ìŒì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

### ğŸ¯ ë‹¬ì„±í•œ ëª©í‘œë“¤

1. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì „í™˜ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥
2. **ì¬ì‚¬ìš©ì„±**: í”„ë ˆì„ì›Œí¬ ê°„ ì½”ì–´ ë¡œì§ ê³µìœ 
3. **ìœ ì§€ë³´ìˆ˜ì„±**: íŒ¨í„´ìœ¼ë¡œ êµ¬ì¡°í™”ëœ ê¹”ë”í•œ ì½”ë“œ
4. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ê° íŒ¨í„´ë³„ë¡œ ë…ë¦½ì  í…ŒìŠ¤íŠ¸
5. **ì„±ëŠ¥**: íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ê³¼ ì‹¤í–‰

### ğŸ“š ì£¼ë‹ˆì–´ ê°œë°œìì—ê²Œ ì£¼ëŠ” êµí›ˆ

1. **íŒ¨í„´ì€ ë„êµ¬**: ëª©ì ì— ë§ëŠ” íŒ¨í„´ ì„ íƒì´ ì¤‘ìš”
2. **ê³¼ë„í•œ íŒ¨í„´ ê¸ˆì§€**: ë‹¨ìˆœí•œ ê²ƒì— ë³µì¡í•œ íŒ¨í„´ ì‚¬ìš© ê¸ˆì§€
3. **ì ì§„ì  í•™ìŠµ**: í•œ ë²ˆì— ëª¨ë“  íŒ¨í„´ì„ ìµíˆë ¤ í•˜ì§€ ë§ ê²ƒ
4. **ì‹¤ì œ ì½”ë“œ ì½ê¸°**: ì´ë¡ ë³´ë‹¤ ì‹¤ì œ êµ¬í˜„ì—ì„œ í•™ìŠµ
5. **íŒ€ì›ê³¼ ì†Œí†µ**: íŒ¨í„´ ì‚¬ìš©ì‹œ íŒ€ì›ë“¤ê³¼ ì¶©ë¶„í•œ ì†Œí†µ

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„

SSGOI ì½”ë“œë¥¼ ì½ìœ¼ë©´ì„œ:

1. ê° íŒ¨í„´ì´ **ì™œ** ì„ íƒë˜ì—ˆëŠ”ì§€ ìƒê°í•´ë³´ê¸°
2. ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ë©´ **ì–´ë–¤ ë¬¸ì œ**ê°€ ìˆì„ì§€ ìƒìƒí•´ë³´ê¸°
3. ìì‹ ì˜ í”„ë¡œì íŠ¸ì— **ì–´ë–¤ íŒ¨í„´**ì„ ì ìš©í•  ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ê¸°

**ê¸°ì–µí•˜ì„¸ìš”**: ë””ìì¸ íŒ¨í„´ì€ ì€ì´ì•Œì´ ì•„ë‹™ë‹ˆë‹¤. ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë„êµ¬ì¼ ë¿ì´ê³ , ì ì ˆí•œ ìƒí™©ì—ì„œ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤! ğŸ¯
